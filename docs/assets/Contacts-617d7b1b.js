import{d as w,l as f,q as S,o as l,c as _,x as b,_ as P,y as B,k as v,n as A,w as y,a as i,t as s,z as x,b as j,f as D,u as F,e as U,A as G,B as I}from"./index-ae4405b8.js";import{c as E}from"./social-media-data-a27bbe80.js";const N={key:0,id:"map"},V={key:1,id:"map-toggle"},Y=w({__name:"Map",props:{positions:{},geoPermission:{type:Boolean}},setup($){const h=$,m=f(!1),n=c=>{m.value||(m.value=!0,b(c.currentTarget,h.positions,d))};let o=null;const g=f();S(()=>h.geoPermission,()=>{o&&(o==null||o.destroy(),b(g.value,h.positions,d))});async function d(c){fetch("/config.json").then(a=>a.json()).then(a=>{let p=document.createElement("script");p.setAttribute("src",`https://api-maps.yandex.ru/2.1/?apikey=${a.mapApiKey}&lang=en_US`),p.setAttribute("type","text/javascript"),document.head.appendChild(p),p.addEventListener("load",()=>{ymaps.ready(()=>{const t={center:c.myPosition,zoom:4};o=new ymaps.Map("map",t),o.controls.remove("geolocationControl"),o.controls.remove("searchControl"),o.controls.remove("trafficControl"),o.controls.remove("typeSelector"),o.controls.remove("rulerControl");const r=new ymaps.GeoObject({geometry:{type:"Point",coordinates:c.myPosition},properties:{iconContent:"Mikhail M"}},{preset:"islands#darkBlueStretchyIcon"});if(c.userPosition[0]||c.userPosition[1]){const k=new ymaps.GeoObject({geometry:{type:"Point",coordinates:c.userPosition},properties:{iconContent:"You"}},{preset:"islands#redStretchyIcon"}),e=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:[c.myPosition,c.userPosition]},properties:{balloonContent:""}},{geodesic:!0,strokeWidth:3,strokeColor:"#0062f5"});o.geoObjects.add(r).add(k).add(e),o.setBounds(o.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:30})}else o.geoObjects.add(r)})})})}return(c,a)=>(l(),_("div",{id:"map-wrapper",onClick:n,ref_key:"wrapper",ref:g},[m.value?(l(),_("div",N)):(l(),_("a",V,"Show map"))],512))}});const H=P(Y,[["__scopeId","data-v-36031a8f"]]),L={class:"timezones animation animation_opacity animation_drop start"},q={key:0,class:"timezones__difference"},K={class:"timezones__text-1"},R=["datetime"],W={class:"timezones__text-2"},Z={key:1,class:"timezones__difference"},J={class:"timezones__text-1"},Q=["datetime"],X={class:"timezones__text-3"},ee={key:2,class:"timezones__difference timezones__text-4"},te={class:"timezones__clock"},oe={key:0,class:"timezones__clock-name timezones__text-5"},se=["datetime"],ne={key:3,class:"timezones__clock"},ae={class:"timezones__clock-name timezones__text-6"},ie=["datetime"],ce=w({__name:"Timezones",setup($){const h={mounted:e=>j(e,"start")},m=f(0);B(async()=>{await fetch("/config.json").then(e=>e.json()).then(e=>m.value=+e.myUTCOffset*60*6e4)});const n=f(new Date),o=v(()=>{const e=new Date(n.value.getTime()-n.value.getTimezoneOffset()*6e4);return p(e)}),g=v(()=>{const e=new Date(n.value.getTime()-n.value.getTimezoneOffset()*6e4);return t(e)}),d=v(()=>{const e=new Date(n.value.getTime()-m.value);return p(e)}),c=v(()=>{const e=new Date(n.value.getTime()-m.value);return t(e)}),a=v(()=>{const e=new Date(n.value.getTime()-n.value.getTimezoneOffset()*6e4).getTime(),u=new Date(n.value.getTime()-m.value).getTime();return Math.round((e-u)/36e5)}),p=e=>{const u=r(e.getUTCHours()),z=r(e.getUTCMinutes()),T=r(e.getUTCSeconds()),C=r(e.getUTCDate()),M=r(e.getUTCMonth()+1),O=e.getUTCFullYear();return`${u}:${z}:${T} ${C}.${M}.${O}`},t=e=>{const u=r(e.getUTCHours()),z=r(e.getUTCMinutes()),T=r(e.getUTCDate()),C=r(e.getUTCMonth()+1);return`${e.getUTCFullYear()}-${C}-${T}T${u}:${z}`},r=e=>{const u=e.toString();return u.length===1?`0${u}`:u};A(()=>k());const k=()=>{setTimeout(()=>{n.value=new Date,k()},1e3)};return(e,u)=>y((l(),_("article",L,[a.value>0?(l(),_("p",q,[i("span",K,s(e.$t("timezones.text-1")),1),i("time",{datetime:a.value+"h"},s(Math.abs(a.value)+e.$t("timezones.hour")),9,R),i("span",W,s(e.$t("timezones.text-2")),1)])):a.value<0?(l(),_("p",Z,[i("span",J,s(e.$t("timezones.text-1")),1),i("time",{datetime:Math.abs(a.value)+"h"},s(Math.abs(a.value)+e.$t("timezones.hour")),9,Q),i("span",X,s(e.$t("timezones.text-3")),1)])):(l(),_("p",ee,s(e.$t("timezones.text-4")),1)),i("div",te,[a.value!==0?(l(),_("p",oe,s(e.$t("timezones.text-5")),1)):x("",!0),i("time",{datetime:g.value,class:"timezones__clock-data"},s(o.value),9,se)]),a.value!==0?(l(),_("div",ne,[i("p",ae,s(e.$t("timezones.text-6")),1),i("time",{datetime:c.value,class:"timezones__clock-data"},s(d.value),9,ie)])):x("",!0)])),[[h]])}});const re=P(ce,[["__scopeId","data-v-c3334957"]]),le=["id"],_e={class:"section__title-wrapper animation animation_opacity animation_drop start"},me={class:"section__title"},ue={class:"section__title-text"},de={class:"section__paragraph section__paragraph_center contacts__text-1 animation animation_opacity animation_rise start"},pe=["href"],he={class:"tip-message"},ge={class:"link contacts__tip-message-link",href:"https://browserhow.com/how-to-enable-disable-geolocation-access-in-google-chrome/"},ve={class:"contacts__tip-message-text"},ye=w({__name:"Contacts",props:{title:{}},setup($){const h=$,m={mounted:t=>j(t,"start")},n=[55.991892,37.214385],o=f([0,0]),g=v({get(){return{myPosition:n,userPosition:o.value}},set(t){o.value=t.userPosition}}),d=f(!1),c={mounted:t=>I(t,a,p)},a=t=>{"coords"in t&&(g.value={myPosition:n,userPosition:[t.coords.latitude,t.coords.longitude]},d.value=!0)},p=t=>{d.value=!1};return(t,r)=>y((l(),_("section",{class:"section section_numbered section",id:h.title.id},[y((l(),_("div",_e,[i("h2",me,[i("span",ue,s(h.title.title),1)])])),[[m]]),y((l(),_("p",de,[D(s(t.$t("contacts.text-1")),1)])),[[m]]),y((l(),_("a",{class:"mail-link animation animation_opacity animation_drop start",target:"_blank",href:F(E).email.link},[D(s(t.$t("contacts.mail-link")),1)],8,pe)),[[m]]),U(H,{positions:g.value,geoPermission:d.value},null,8,["positions","geoPermission"]),y(i("p",he,[i("a",ge,s(t.$t("contacts.tip-message-link")),1),i("span",ve,s(t.$t("contacts.tip-message-text")),1)],512),[[G,!d.value]]),U(re)],8,le)),[[c]])}});const ke=P(ye,[["__scopeId","data-v-24e2a240"]]);export{ke as default};

import{d as b,j as $,q as w,s as A,o as m,c as p,_ as M,i as f,l as B,w as z,u as r,a as c,t as n,v as D,b as U,e as j,x as I}from"./index-ac28902d.js";import{c as F}from"./social-media-data-fa3a8e24.js";import{a as O}from"./appear-animation-f23b2288.js";const E={id:"map"},G=b({__name:"Map",props:{positions:null,toggleMap:{type:Boolean}},setup(y){const a=y,_=$("");w(async()=>{await fetch("/config.json").then(e=>e.json()).then(e=>_.value=e.mapApiKey)}),A(()=>a.toggleMap,()=>o());const o=async()=>{let e=document.createElement("script");e.setAttribute("src",`https://api-maps.yandex.ru/2.1/?apikey=${_.value}&lang=en_US`),e.setAttribute("type","text/javascript"),document.head.appendChild(e),e.addEventListener("load",()=>{ymaps.ready(()=>{const g={center:a.positions.myPosition,zoom:4},i=new ymaps.Map("map",g);i.controls.remove("geolocationControl"),i.controls.remove("searchControl"),i.controls.remove("trafficControl"),i.controls.remove("typeSelector"),i.controls.remove("rulerControl");const h=new ymaps.GeoObject({geometry:{type:"Point",coordinates:a.positions.myPosition},properties:{iconContent:"Mikhail M"}},{preset:"islands#darkBlueStretchyIcon"});if(a.positions.userPosition[0]||a.positions.userPosition[1]){const l=new ymaps.GeoObject({geometry:{type:"Point",coordinates:a.positions.userPosition},properties:{iconContent:"You"}},{preset:"islands#redStretchyIcon"}),v=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:[a.positions.myPosition,a.positions.userPosition]},properties:{balloonContent:"123"}},{geodesic:!0,strokeWidth:3,strokeColor:"#0062f5"});i.geoObjects.add(h).add(l).add(v),i.setBounds(i.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:30})}else i.geoObjects.add(h)})})};return(e,g)=>(m(),p("div",E))}});const N=M(G,[["__scopeId","data-v-ab1a9b56"]]),V={class:"timezones animation animation_opacity animation_drop start"},Y={key:0,class:"timezones__difference"},H={class:"timezones__text-1"},K=["datetime"],L={class:"timezones__text-2"},q={key:1,class:"timezones__difference"},R={class:"timezones__text-1"},W=["datetime"],Z={class:"timezones__text-3"},J={key:2,class:"timezones__difference timezones__text-4"},Q={class:"timezones__clock"},X={key:0,class:"timezones__clock-name timezones__text-5"},tt=["datetime"],et={key:3,class:"timezones__clock"},ot={class:"timezones__clock-name timezones__text-6"},st=["datetime"],nt=b({__name:"Timezones",setup(y){const a={mounted:t=>O(t,"start")},_=$(0);w(async()=>{await fetch("/config.json").then(t=>t.json()).then(t=>_.value=+t.myUTCOffset*60*6e4)});const o=$(new Date),e=f(()=>{const t=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return v(t)}),g=f(()=>{const t=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return s(t)}),i=f(()=>{const t=new Date(o.value.getTime()-_.value);return v(t)}),h=f(()=>{const t=new Date(o.value.getTime()-_.value);return s(t)}),l=f(()=>{const t=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4).getTime(),u=new Date(o.value.getTime()-_.value).getTime();return Math.round((t-u)/36e5)}),v=t=>{const u=d(t.getUTCHours()),T=d(t.getUTCMinutes()),k=d(t.getUTCSeconds()),C=d(t.getUTCDate()),x=d(t.getUTCMonth()+1),S=t.getUTCFullYear();return`${u}:${T}:${k} ${C}.${x}.${S}`},s=t=>{const u=d(t.getUTCHours()),T=d(t.getUTCMinutes()),k=d(t.getUTCDate()),C=d(t.getUTCMonth()+1);return`${t.getUTCFullYear()}-${C}-${k}T${u}:${T}`},d=t=>{const u=t.toString();return u.length===1?`0${u}`:u};B(()=>P());const P=()=>{setTimeout(()=>{o.value=new Date,P()},1e3)};return(t,u)=>z((m(),p("article",V,[r(l)>0?(m(),p("p",Y,[c("span",H,n(t.$t("timezones.text-1")),1),c("time",{datetime:r(l)+"h"},n(Math.abs(r(l))+t.$t("timezones.hour")),9,K),c("span",L,n(t.$t("timezones.text-2")),1)])):r(l)<0?(m(),p("p",q,[c("span",R,n(t.$t("timezones.text-1")),1),c("time",{datetime:Math.abs(r(l))+"h"},n(Math.abs(r(l))+t.$t("timezones.hour")),9,W),c("span",Z,n(t.$t("timezones.text-3")),1)])):(m(),p("p",J,n(t.$t("timezones.text-4")),1)),c("div",Q,[r(l)!==0?(m(),p("p",X,n(t.$t("timezones.text-5")),1)):D("",!0),c("time",{datetime:r(g),class:"timezones__clock-data"},n(r(e)),9,tt)]),r(l)!==0?(m(),p("div",et,[c("p",ot,n(t.$t("timezones.text-6")),1),c("time",{datetime:r(h),class:"timezones__clock-data"},n(r(i)),9,st)])):D("",!0)])),[[a]])}});const at=M(nt,[["__scopeId","data-v-c3334957"]]);function it(y={enableHighAccuracy:!0,timeout:1/0}){const a="navigator"in window&&"geolocation"in navigator;return new Promise((_,o)=>{if(a)return navigator.geolocation.getCurrentPosition(e=>_(e),e=>o(e),y)})}const ct=["id"],rt={class:"section__title-wrapper animation animation_opacity animation_drop start"},_t={class:"section__title"},lt={class:"section__title-text"},mt={class:"section__paragraph section__paragraph_center contacts__text-1 animation animation_opacity animation_rise start"},pt=["href"],dt={class:"tip-message"},ut={class:"link contacts__tip-message-link",href:"https://browserhow.com/how-to-enable-disable-geolocation-access-in-google-chrome/"},gt={class:"contacts__tip-message-text"},ht=b({__name:"Contacts",props:{title:null},setup(y){const a=y,_={mounted:s=>O(s,"start")},o=[55.991892,37.214385],e=$([0,0]),g=f({get(){return{myPosition:o,userPosition:e.value}},set(s){e.value=s.userPosition}}),i=$(!1),h=$(!1);w(async()=>{await it().then(l).catch(v).finally(()=>h.value=!0)});const l=s=>{"coords"in s&&(g.value={myPosition:o,userPosition:[s.coords.latitude,s.coords.longitude]},i.value=!0)},v=s=>i.value=!1;return(s,d)=>(m(),p("section",{class:"section section_numbered section",id:a.title.id},[z((m(),p("div",rt,[c("h2",_t,[c("span",lt,n(a.title.title),1)])])),[[_]]),z((m(),p("p",mt,[U(n(s.$t("contacts.text-1")),1)])),[[_]]),z((m(),p("a",{class:"mail-link animation animation_opacity animation_drop start",target:"_blank",href:r(F).email.link},[U(n(s.$t("contacts.mail-link")),1)],8,pt)),[[_]]),j(N,{positions:r(g),toggleMap:h.value},null,8,["positions","toggleMap"]),z(c("p",dt,[c("a",ut,n(s.$t("contacts.tip-message-link")),1),c("span",gt,n(s.$t("contacts.tip-message-text")),1)],512),[[I,!i.value]]),j(at)],8,ct))}});const $t=M(ht,[["__scopeId","data-v-bc91cba3"]]);export{$t as default};

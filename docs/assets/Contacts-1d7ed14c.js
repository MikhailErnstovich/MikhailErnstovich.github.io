import{d as I,k as $,j as T,x,o as _,c as g,y as F,g as U,e as b,u as n,z as Y,A as O,s as j,v as V,a,B as H,_ as L,C as N,m as G,w as M,t as r,b as B,f as A,D as R,E as q}from"./index-aba421f5.js";import{c as K}from"./social-media-data-a27bbe80.js";const E=v=>(j("data-v-542e86c2"),v=v(),V(),v),J=E(()=>a("div",{class:"marker"},[a("span",null,"Mikhail M")],-1)),Q=E(()=>a("div",{class:"marker"},[a("span",null,"You")],-1)),W=I({__name:"Map",props:{positions:null,geoPermission:{type:Boolean}},setup(v){const m=v,l=$(!1),c=o=>{l.value||(l.value=!0,O(o.currentTarget,p))},h=$([[0,0],[0,0]]),z=T(()=>({duration:2e3,easing:"ease-in-out",bounds:h.value})),y=$(!1),C=$(!1),u=x(null),k=x(null),s=x(null),i=x(null),w=x(null),e=o=>new Promise((t,d)=>{if(document.querySelector(`script[src="${o}"]`)){t();return}const f=document.createElement("script");f.src=o,f.async=!0,f.onload=()=>t(),f.onerror=()=>d(new Error(`Failed to load script: ${o}`)),document.head.appendChild(f)}),p=async()=>{let o="";await fetch("/config.json").then(d=>d.json()).then(d=>o=`https://api-maps.yandex.ru/v3/?apikey=${d.mapApiKey}&lang=en_US`),await e(o),y.value=!0;const t=await H(()=>import("./ymaps-cf6bb5bc.js"),["assets/ymaps-cf6bb5bc.js","assets/index-aba421f5.js","assets/index-6193e322.css"]);u.value=t.YMap,k.value=t.YMapDefaultSchemeLayer,s.value=t.YMapDefaultFeaturesLayer,i.value=t.YMapMarker,w.value=t.YMapFeature,C.value=!0,h.value=D(m.positions.myPosition,m.positions.userPosition)},D=(o,t)=>{let d=1/0,f=1/0,P=-1/0,S=-1/0;return o[0]<=t[0]?(f=o[0],S=t[0]):(f=t[0],S=o[0]),o[1]<=t[1]?(d=o[1],P=t[1]):(d=t[1],P=o[1]),[[f,d],[S,P]]};return(o,t)=>(_(),g("div",{id:"map-wrapper",onClick:c,ref:"wrapper"},[l.value&&y.value?(_(),F(n(u),{key:0,location:n(z),margin:[32,32,32,32],id:"map"},{default:U(()=>[b(n(k)),b(n(s)),b(n(i),{coordinates:m.positions.myPosition,draggable:!1},{default:U(()=>[J]),_:1},8,["coordinates"]),m.positions.userPosition[0]||m.positions.userPosition[1]?(_(),F(n(i),{key:0,coordinates:m.positions.userPosition,draggable:!1},{default:U(()=>[Q]),_:1},8,["coordinates"])):Y("",!0)]),_:1},8,["location"])):(_(),g("a",{key:1,id:"map-toggle",onClick:t[0]||(t[0]=d=>o.$emit("geoPermission"))},"Show map"))],512))}});const X=L(W,[["__scopeId","data-v-542e86c2"]]),Z={class:"timezones animation animation_opacity animation_drop start"},ee={key:0,class:"timezones__difference"},te={class:"timezones__text-1"},se=["datetime"],oe={class:"timezones__text-2"},ne={key:1,class:"timezones__difference"},ae={class:"timezones__text-1"},ie=["datetime"],ce={class:"timezones__text-3"},re={key:2,class:"timezones__difference timezones__text-4"},le={class:"timezones__clock"},_e={key:0,class:"timezones__clock-name timezones__text-5"},me=["datetime"],ue={key:3,class:"timezones__clock"},de={class:"timezones__clock-name timezones__text-6"},pe=["datetime"],ge=I({__name:"Timezones",setup(v){const m={mounted:e=>B(e,"start")},l=$(0);N(async()=>{await fetch("/config.json").then(e=>e.json()).then(e=>l.value=+e.myUTCOffset*60*6e4)});const c=$(new Date),h=T(()=>{const e=new Date(c.value.getTime()-c.value.getTimezoneOffset()*6e4);return k(e)}),z=T(()=>{const e=new Date(c.value.getTime()-c.value.getTimezoneOffset()*6e4);return s(e)}),y=T(()=>{const e=new Date(c.value.getTime()-l.value);return k(e)}),C=T(()=>{const e=new Date(c.value.getTime()-l.value);return s(e)}),u=T(()=>{const e=new Date(c.value.getTime()-c.value.getTimezoneOffset()*6e4).getTime(),p=new Date(c.value.getTime()-l.value).getTime();return Math.round((e-p)/36e5)}),k=e=>{const p=i(e.getUTCHours()),D=i(e.getUTCMinutes()),o=i(e.getUTCSeconds()),t=i(e.getUTCDate()),d=i(e.getUTCMonth()+1),f=e.getUTCFullYear();return`${p}:${D}:${o} ${t}.${d}.${f}`},s=e=>{const p=i(e.getUTCHours()),D=i(e.getUTCMinutes()),o=i(e.getUTCDate()),t=i(e.getUTCMonth()+1);return`${e.getUTCFullYear()}-${t}-${o}T${p}:${D}`},i=e=>{const p=e.toString();return p.length===1?`0${p}`:p};G(()=>w());const w=()=>{setTimeout(()=>{c.value=new Date,w()},1e3)};return(e,p)=>M((_(),g("article",Z,[n(u)>0?(_(),g("p",ee,[a("span",te,r(e.$t("timezones.text-1")),1),a("time",{datetime:n(u)+"h"},r(Math.abs(n(u))+e.$t("timezones.hour")),9,se),a("span",oe,r(e.$t("timezones.text-2")),1)])):n(u)<0?(_(),g("p",ne,[a("span",ae,r(e.$t("timezones.text-1")),1),a("time",{datetime:Math.abs(n(u))+"h"},r(Math.abs(n(u))+e.$t("timezones.hour")),9,ie),a("span",ce,r(e.$t("timezones.text-3")),1)])):(_(),g("p",re,r(e.$t("timezones.text-4")),1)),a("div",le,[n(u)!==0?(_(),g("p",_e,r(e.$t("timezones.text-5")),1)):Y("",!0),a("time",{datetime:n(z),class:"timezones__clock-data"},r(n(h)),9,me)]),n(u)!==0?(_(),g("div",ue,[a("p",de,r(e.$t("timezones.text-6")),1),a("time",{datetime:n(C),class:"timezones__clock-data"},r(n(y)),9,pe)])):Y("",!0)])),[[m]])}});const he=L(ge,[["__scopeId","data-v-c3334957"]]);function fe(v={enableHighAccuracy:!0,timeout:1/0}){const m="navigator"in window&&"geolocation"in navigator;return new Promise((l,c)=>{if(m)return navigator.geolocation.getCurrentPosition(h=>l(h),h=>c(h),v)})}const ve=["id"],ye={class:"section__title-wrapper animation animation_opacity animation_drop start"},$e={class:"section__title"},ke={class:"section__title-text"},Te={class:"section__paragraph section__paragraph_center contacts__text-1 animation animation_opacity animation_rise start"},ze=["href"],we={class:"tip-message"},Me={class:"link contacts__tip-message-link",href:"https://browserhow.com/how-to-enable-disable-geolocation-access-in-google-chrome/"},Ce={class:"contacts__tip-message-text"},De=I({__name:"Contacts",props:{title:null},setup(v){const m=v,l={mounted:s=>B(s,"start")},c=[37.214385,55.991892],h=$([0,0]),z=T({get(){return{myPosition:c,userPosition:h.value}},set(s){h.value=s.userPosition}}),y=$(!1),C=(s,i)=>{fe().then(s).catch(i)},u=s=>{"coords"in s&&(z.value={myPosition:c,userPosition:[s.coords.longitude,s.coords.latitude]},y.value=!0)},k=s=>{y.value=!1};return(s,i)=>{const w=q("geolocation");return M((_(),g("section",{class:"section section_numbered section",id:m.title.id},[M((_(),g("div",ye,[a("h2",$e,[a("span",ke,r(m.title.title),1)])])),[[l]]),M((_(),g("p",Te,[A(r(s.$t("contacts.text-1")),1)])),[[l]]),M((_(),g("a",{class:"mail-link animation animation_opacity animation_drop start",target:"_blank",href:n(K).email.link},[A(r(s.$t("contacts.mail-link")),1)],8,ze)),[[l]]),b(X,{positions:n(z),geoPermission:y.value,onGeoPermissionOnce:i[0]||(i[0]=()=>C(u,k))},null,8,["positions","geoPermission"]),M(a("p",we,[a("a",Me,r(s.$t("contacts.tip-message-link")),1),a("span",Ce,r(s.$t("contacts.tip-message-text")),1)],512),[[R,!y.value]]),b(he)],8,ve)),[[w]])}}});const Pe=L(De,[["__scopeId","data-v-fa2d7526"]]);export{Pe as default};

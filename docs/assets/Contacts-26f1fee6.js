import{d as C,j as f,s as b,m as S,o as _,c as m,_ as w,i as y,l as A,w as $,a as c,t as n,v as x,e as D,u as B,b as U,x as I}from"./index-b1db2933.js";import{c as F}from"./social-media-data-a27bbe80.js";import{a as j}from"./appear-animation-f23b2288.js";const E={id:"map"},G=C({__name:"Map",props:{positions:{},toggleMap:{type:Boolean}},setup(h){const a=h,r=f("");b(async()=>{await fetch("/config.json").then(t=>t.json()).then(t=>r.value=t.mapApiKey)}),S(()=>a.toggleMap,()=>o());const o=async()=>{let t=document.createElement("script");t.setAttribute("src",`https://api-maps.yandex.ru/2.1/?apikey=${r.value}&lang=en_US`),t.setAttribute("type","text/javascript"),document.head.appendChild(t),t.addEventListener("load",()=>{ymaps.ready(()=>{const d={center:a.positions.myPosition,zoom:4},i=new ymaps.Map("map",d);i.controls.remove("geolocationControl"),i.controls.remove("searchControl"),i.controls.remove("trafficControl"),i.controls.remove("typeSelector"),i.controls.remove("rulerControl");const g=new ymaps.GeoObject({geometry:{type:"Point",coordinates:a.positions.myPosition},properties:{iconContent:"Mikhail M"}},{preset:"islands#darkBlueStretchyIcon"});if(a.positions.userPosition[0]||a.positions.userPosition[1]){const l=new ymaps.GeoObject({geometry:{type:"Point",coordinates:a.positions.userPosition},properties:{iconContent:"You"}},{preset:"islands#redStretchyIcon"}),v=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:[a.positions.myPosition,a.positions.userPosition]},properties:{balloonContent:"123"}},{geodesic:!0,strokeWidth:3,strokeColor:"#0062f5"});i.geoObjects.add(g).add(l).add(v),i.setBounds(i.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:30})}else i.geoObjects.add(g)})})};return(t,d)=>(_(),m("div",E))}});const N=w(G,[["__scopeId","data-v-ab1a9b56"]]),V={class:"timezones animation animation_opacity animation_drop start"},Y={key:0,class:"timezones__difference"},H={class:"timezones__text-1"},K=["datetime"],L={class:"timezones__text-2"},R={key:1,class:"timezones__difference"},W={class:"timezones__text-1"},Z=["datetime"],q={class:"timezones__text-3"},J={key:2,class:"timezones__difference timezones__text-4"},Q={class:"timezones__clock"},X={key:0,class:"timezones__clock-name timezones__text-5"},ee=["datetime"],te={key:3,class:"timezones__clock"},oe={class:"timezones__clock-name timezones__text-6"},se=["datetime"],ne=C({__name:"Timezones",setup(h){const a={mounted:e=>j(e,"start")},r=f(0);b(async()=>{await fetch("/config.json").then(e=>e.json()).then(e=>r.value=+e.myUTCOffset*60*6e4)});const o=f(new Date),t=y(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return v(e)}),d=y(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return s(e)}),i=y(()=>{const e=new Date(o.value.getTime()-r.value);return v(e)}),g=y(()=>{const e=new Date(o.value.getTime()-r.value);return s(e)}),l=y(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4).getTime(),u=new Date(o.value.getTime()-r.value).getTime();return Math.round((e-u)/36e5)}),v=e=>{const u=p(e.getUTCHours()),z=p(e.getUTCMinutes()),T=p(e.getUTCSeconds()),k=p(e.getUTCDate()),P=p(e.getUTCMonth()+1),O=e.getUTCFullYear();return`${u}:${z}:${T} ${k}.${P}.${O}`},s=e=>{const u=p(e.getUTCHours()),z=p(e.getUTCMinutes()),T=p(e.getUTCDate()),k=p(e.getUTCMonth()+1);return`${e.getUTCFullYear()}-${k}-${T}T${u}:${z}`},p=e=>{const u=e.toString();return u.length===1?`0${u}`:u};A(()=>M());const M=()=>{setTimeout(()=>{o.value=new Date,M()},1e3)};return(e,u)=>$((_(),m("article",V,[l.value>0?(_(),m("p",Y,[c("span",H,n(e.$t("timezones.text-1")),1),c("time",{datetime:l.value+"h"},n(Math.abs(l.value)+e.$t("timezones.hour")),9,K),c("span",L,n(e.$t("timezones.text-2")),1)])):l.value<0?(_(),m("p",R,[c("span",W,n(e.$t("timezones.text-1")),1),c("time",{datetime:Math.abs(l.value)+"h"},n(Math.abs(l.value)+e.$t("timezones.hour")),9,Z),c("span",q,n(e.$t("timezones.text-3")),1)])):(_(),m("p",J,n(e.$t("timezones.text-4")),1)),c("div",Q,[l.value!==0?(_(),m("p",X,n(e.$t("timezones.text-5")),1)):x("",!0),c("time",{datetime:d.value,class:"timezones__clock-data"},n(t.value),9,ee)]),l.value!==0?(_(),m("div",te,[c("p",oe,n(e.$t("timezones.text-6")),1),c("time",{datetime:g.value,class:"timezones__clock-data"},n(i.value),9,se)])):x("",!0)])),[[a]])}});const ae=w(ne,[["__scopeId","data-v-c3334957"]]);function ie(h={enableHighAccuracy:!0,timeout:1/0}){const a="navigator"in window&&"geolocation"in navigator;return new Promise((r,o)=>{if(a)return navigator.geolocation.getCurrentPosition(t=>r(t),t=>o(t),h)})}const ce=["id"],re={class:"section__title-wrapper animation animation_opacity animation_drop start"},le={class:"section__title"},_e={class:"section__title-text"},me={class:"section__paragraph section__paragraph_center contacts__text-1 animation animation_opacity animation_rise start"},pe=["href"],ue={class:"tip-message"},de={class:"link contacts__tip-message-link",href:"https://browserhow.com/how-to-enable-disable-geolocation-access-in-google-chrome/"},ge={class:"contacts__tip-message-text"},he=C({__name:"Contacts",props:{title:{}},setup(h){const a=h,r={mounted:s=>j(s,"start")},o=[55.991892,37.214385],t=f([0,0]),d=y({get(){return{myPosition:o,userPosition:t.value}},set(s){t.value=s.userPosition}}),i=f(!1),g=f(!1);b(async()=>{await ie().then(l).catch(v).finally(()=>g.value=!0)});const l=s=>{"coords"in s&&(d.value={myPosition:o,userPosition:[s.coords.latitude,s.coords.longitude]},i.value=!0)},v=s=>i.value=!1;return(s,p)=>(_(),m("section",{class:"section section_numbered section",id:a.title.id},[$((_(),m("div",re,[c("h2",le,[c("span",_e,n(a.title.title),1)])])),[[r]]),$((_(),m("p",me,[D(n(s.$t("contacts.text-1")),1)])),[[r]]),$((_(),m("a",{class:"mail-link animation animation_opacity animation_drop start",target:"_blank",href:B(F).email.link},[D(n(s.$t("contacts.mail-link")),1)],8,pe)),[[r]]),U(N,{positions:d.value,toggleMap:g.value},null,8,["positions","toggleMap"]),$(c("p",ue,[c("a",de,n(s.$t("contacts.tip-message-link")),1),c("span",ge,n(s.$t("contacts.tip-message-text")),1)],512),[[I,!i.value]]),U(ae)],8,ce))}});const $e=w(he,[["__scopeId","data-v-bc91cba3"]]);export{$e as default};

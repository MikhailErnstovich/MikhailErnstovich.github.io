import{d as B,k as v,j as $,x,n as q,o as l,c as m,y as j,g as P,e as S,u as s,z as A,A as K,s as J,v as Q,a as o,B as W,_ as E,C as X,m as Z,w as b,t as c,b as H,f as V,D as ee}from"./index-1635f220.js";import{c as te}from"./social-media-data-a27bbe80.js";function se(h={enableHighAccuracy:!0,timeout:1/0}){const y="navigator"in window&&"geolocation"in navigator;return new Promise((r,i)=>{if(y)return navigator.geolocation.getCurrentPosition(d=>r(d),d=>i(d),h)})}const N=h=>(J("data-v-2468f23a"),h=h(),Q(),h),ae=N(()=>o("div",{class:"marker"},[o("span",null,"Mikhail M")],-1)),oe=N(()=>o("div",{class:"marker"},[o("span",null,"You")],-1)),ne=B({__name:"Map",emits:["geoPermission"],setup(h,{emit:y}){const r=v(!1),i=t=>{r.value||(r.value=!0,K(t.currentTarget,R))},d=v([[0,0],[0,0]]),_=$(()=>({duration:2e3,easing:"ease-in-out",bounds:d.value})),C=[37.214385,55.991892],D=v([0,0]),n=$({get(){return{myPosition:C,userPosition:D.value}},set(t){D.value=t.userPosition}}),k=v(!1),U=(t,a)=>se().then(t).catch(a),p=t=>{"coords"in t&&(n.value={myPosition:C,userPosition:[t.coords.longitude,t.coords.latitude]},k.value=!0)},Y=()=>{k.value=!1},e=v(!1),u=v(!1),T=x(null),w=x(null),z=x(null),M=x(null),I=x(null),G=t=>new Promise((a,f)=>{if(document.querySelector(`script[src="${t}"]`)){a();return}const g=document.createElement("script");g.src=t,g.async=!0,g.onload=()=>a(),g.onerror=()=>f(new Error(`Failed to load script: ${t}`)),document.head.appendChild(g)}),R=async()=>{let t="";await fetch("/config.json").then(f=>f.json()).then(f=>t=`https://api-maps.yandex.ru/v3/?apikey=${f.mapApiKey}&lang=en_US`),await G(t),e.value=!0;const a=await W(()=>import("./ymaps-3f10cb0d.js"),["assets/ymaps-3f10cb0d.js","assets/index-1635f220.js","assets/index-1010f6a9.css"]);T.value=a.YMap,w.value=a.YMapDefaultSchemeLayer,z.value=a.YMapDefaultFeaturesLayer,M.value=a.YMapMarker,I.value=a.YMapFeature,u.value=!0,d.value=O(n.value.myPosition,n.value.userPosition)};q(()=>D.value,()=>{d.value=O(n.value.myPosition,n.value.userPosition)});const O=(t,a)=>{if(!a[0]&&!a[1])return[[t[0]-2,t[1]-2],[t[0]+2,t[1]+2]];let f=1/0,g=1/0,L=-1/0,F=-1/0;return t[0]<=a[0]?(g=t[0],F=a[0]):(g=a[0],F=t[0]),t[1]<=a[1]?(f=t[1],L=a[1]):(f=a[1],L=t[1]),[[g,f],[F,L]]};return(t,a)=>(l(),m("div",{id:"map-wrapper",ref:"wrapper",onClick:i},[r.value&&e.value?(l(),j(s(T),{key:0,id:"map",location:s(_),margin:[32,32,32,32]},{default:P(()=>[S(s(w)),S(s(z)),S(s(M),{coordinates:s(n).myPosition,draggable:!1},{default:P(()=>[ae]),_:1},8,["coordinates"]),s(n).userPosition[0]||s(n).userPosition[1]?(l(),j(s(M),{key:0,coordinates:s(n).userPosition,draggable:!1},{default:P(()=>[oe]),_:1},8,["coordinates"])):A("",!0)]),_:1},8,["location"])):(l(),m("a",{key:1,id:"map-toggle",onClick:a[0]||(a[0]=()=>U(p,Y).then(()=>y("geoPermission",k.value)))},"Show map"))],512))}});const ie=E(ne,[["__scopeId","data-v-2468f23a"]]),ce={class:"timezones animation animation_opacity animation_drop start"},re={key:0,class:"timezones__difference"},le={class:"timezones__text-1"},_e=["datetime"],ue={class:"timezones__text-2"},me={key:1,class:"timezones__difference"},de={class:"timezones__text-1"},pe=["datetime"],he={class:"timezones__text-3"},fe={key:2,class:"timezones__difference timezones__text-4"},ge={class:"timezones__clock"},ve={key:0,class:"timezones__clock-name timezones__text-5"},ye=["datetime"],$e={key:3,class:"timezones__clock"},ke={class:"timezones__clock-name timezones__text-6"},Te=["datetime"],we=B({__name:"Timezones",setup(h){const y={mounted:e=>H(e,"start")},r=v(0);X(async()=>{await fetch("/config.json").then(e=>e.json()).then(e=>r.value=+e.myUTCOffset*60*6e4)});const i=v(new Date),d=$(()=>{const e=new Date(i.value.getTime()-i.value.getTimezoneOffset()*6e4);return k(e)}),_=$(()=>{const e=new Date(i.value.getTime()-i.value.getTimezoneOffset()*6e4);return U(e)}),C=$(()=>{const e=new Date(i.value.getTime()-r.value);return k(e)}),D=$(()=>{const e=new Date(i.value.getTime()-r.value);return U(e)}),n=$(()=>{const e=new Date(i.value.getTime()-i.value.getTimezoneOffset()*6e4).getTime(),u=new Date(i.value.getTime()-r.value).getTime();return Math.round((e-u)/36e5)}),k=e=>{const u=p(e.getUTCHours()),T=p(e.getUTCMinutes()),w=p(e.getUTCSeconds()),z=p(e.getUTCDate()),M=p(e.getUTCMonth()+1),I=e.getUTCFullYear();return`${u}:${T}:${w} ${z}.${M}.${I}`},U=e=>{const u=p(e.getUTCHours()),T=p(e.getUTCMinutes()),w=p(e.getUTCDate()),z=p(e.getUTCMonth()+1);return`${e.getUTCFullYear()}-${z}-${w}T${u}:${T}`},p=e=>{const u=e.toString();return u.length===1?`0${u}`:u};Z(()=>Y());const Y=()=>{setTimeout(()=>{i.value=new Date,Y()},1e3)};return(e,u)=>b((l(),m("article",ce,[s(n)>0?(l(),m("p",re,[o("span",le,c(e.$t("timezones.text-1")),1),o("time",{datetime:s(n)+"h"},c(Math.abs(s(n))+e.$t("timezones.hour")),9,_e),o("span",ue,c(e.$t("timezones.text-2")),1)])):s(n)<0?(l(),m("p",me,[o("span",de,c(e.$t("timezones.text-1")),1),o("time",{datetime:Math.abs(s(n))+"h"},c(Math.abs(s(n))+e.$t("timezones.hour")),9,pe),o("span",he,c(e.$t("timezones.text-3")),1)])):(l(),m("p",fe,c(e.$t("timezones.text-4")),1)),o("div",ge,[s(n)!==0?(l(),m("p",ve,c(e.$t("timezones.text-5")),1)):A("",!0),o("time",{datetime:s(_),class:"timezones__clock-data"},c(s(d)),9,ye)]),s(n)!==0?(l(),m("div",$e,[o("p",ke,c(e.$t("timezones.text-6")),1),o("time",{datetime:s(D),class:"timezones__clock-data"},c(s(C)),9,Te)])):A("",!0)])),[[y]])}});const ze=E(we,[["__scopeId","data-v-00ca03f3"]]),Me=["id"],Ce={class:"section__title-wrapper animation animation_opacity animation_drop start"},De={class:"section__title"},xe={class:"section__title-text"},be={class:"section__paragraph section__paragraph_center contacts__text-1 animation animation_opacity animation_rise start"},Se=["href"],Ue={class:"tip-message"},Ye={class:"link contacts__tip-message-link",href:"https://browserhow.com/how-to-enable-disable-geolocation-access-in-google-chrome/"},Ie={class:"contacts__tip-message-text"},Le=B({__name:"Contacts",props:{title:null},setup(h){const y=h,r={mounted:_=>H(_,"start")},i=v(!1),d=_=>i.value=_;return(_,C)=>(l(),m("section",{id:y.title.id,class:"section section_numbered section"},[b((l(),m("div",Ce,[o("h2",De,[o("span",xe,c(y.title.title),1)])])),[[r]]),b((l(),m("p",be,[V(c(_.$t("contacts.text-1")),1)])),[[r]]),b((l(),m("a",{class:"mail-link animation animation_opacity animation_drop start",target:"_blank",href:s(te).email.link},[V(c(_.$t("contacts.mail-link")),1)],8,Se)),[[r]]),S(ie,{onGeoPermission:d}),b(o("p",Ue,[o("a",Ye,c(_.$t("contacts.tip-message-link")),1),o("span",Ie,c(_.$t("contacts.tip-message-text")),1)],512),[[ee,!i.value]]),S(ze)],8,Me))}});const Ae=E(Le,[["__scopeId","data-v-8c94d98b"]]);export{Ae as default};

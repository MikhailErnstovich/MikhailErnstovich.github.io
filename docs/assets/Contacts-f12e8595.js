import{d as $,j as T,q as P,s as B,o as _,c as m,_ as z,i as k,l as Y,w as b,u as c,b as y,a as u,t as v,v as S,p as j,f as O,e as U,x as E}from"./index-c24abee6.js";import{c as F}from"./social-media-data-fa3a8e24.js";import{a as I}from"./appear-animation-f23b2288.js";const G={id:"map"},N=$({__name:"Map",props:{positions:null,toggleMap:{type:Boolean}},setup(a){const s=a,r=T("");P(async()=>{await fetch("/config.json").then(t=>t.json()).then(t=>r.value=t.mapApiKey)}),B(()=>s.toggleMap,()=>o());const o=async()=>{let t=document.createElement("script");t.setAttribute("src",`https://api-maps.yandex.ru/2.1/?apikey=${r.value}&lang=en_US`),t.setAttribute("type","text/javascript"),document.head.appendChild(t),t.addEventListener("load",()=>{ymaps.ready(()=>{const h={center:s.positions.myPosition,zoom:4},n=new ymaps.Map("map",h);n.controls.remove("geolocationControl"),n.controls.remove("searchControl"),n.controls.remove("trafficControl"),n.controls.remove("typeSelector"),n.controls.remove("rulerControl");const g=new ymaps.GeoObject({geometry:{type:"Point",coordinates:s.positions.myPosition},properties:{iconContent:"Mikhail M"}},{preset:"islands#darkBlueStretchyIcon"});if(s.positions.userPosition[0]||s.positions.userPosition[1]){const l=new ymaps.GeoObject({geometry:{type:"Point",coordinates:s.positions.userPosition},properties:{iconContent:"You"}},{preset:"islands#redStretchyIcon"}),f=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:[s.positions.myPosition,s.positions.userPosition]},properties:{balloonContent:"123"}},{geodesic:!0,strokeWidth:3,strokeColor:"#0062f5"});n.geoObjects.add(g).add(l).add(f),n.setBounds(n.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:30})}else n.geoObjects.add(g)})})};return(t,h)=>(_(),m("div",G))}});const V=z(N,[["__scopeId","data-v-ab1a9b56"]]),H=a=>(j("data-v-0cee93d1"),a=a(),O(),a),K={class:"timezones animation animation_opacity animation_drop start"},L={key:0,class:"timezones__difference"},q=["datetime"],R={key:1,class:"timezones__difference"},W=["datetime"],Z={key:2,class:"timezones__difference"},J={class:"timezones__clock"},Q={key:0,class:"timezones__clock-name"},X=["datetime"],ee={key:3,class:"timezones__clock"},te=H(()=>u("p",{class:"timezones__clock-name"},"Mikhail's clock",-1)),oe=["datetime"],se=$({__name:"Timezones",setup(a){const s={mounted:e=>I(e,"start")},r=T(0);P(async()=>{await fetch("/config.json").then(e=>e.json()).then(e=>r.value=+e.myUTCOffset*60*6e4)});const o=T(new Date),t=k(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return f(e)}),h=k(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return i(e)}),n=k(()=>{const e=new Date(o.value.getTime()-r.value);return f(e)}),g=k(()=>{const e=new Date(o.value.getTime()-r.value);return i(e)}),l=k(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4).getTime(),d=new Date(o.value.getTime()-r.value).getTime();return Math.round((e-d)/36e5)}),f=e=>{const d=p(e.getUTCHours()),C=p(e.getUTCMinutes()),w=p(e.getUTCSeconds()),M=p(e.getUTCDate()),x=p(e.getUTCMonth()+1),A=e.getUTCFullYear();return`${d}:${C}:${w} ${M}.${x}.${A}`},i=e=>{const d=p(e.getUTCHours()),C=p(e.getUTCMinutes()),w=p(e.getUTCDate()),M=p(e.getUTCMonth()+1);return`${e.getUTCFullYear()}-${M}-${w}T${d}:${C}`},p=e=>{const d=e.toString();return d.length===1?`0${d}`:d};Y(()=>D());const D=()=>{setTimeout(()=>{o.value=new Date,D()},1e3)};return(e,d)=>b((_(),m("article",K,[c(l)>0?(_(),m("p",L,[y(" Your clock is "),u("time",{datetime:c(l)+"h"},v(Math.abs(c(l))+"h"),9,q),y(" ahead Mikhail's ")])):c(l)<0?(_(),m("p",R,[y(" Your clock is "),u("time",{datetime:Math.abs(c(l))+"h"},v(Math.abs(c(l))+"h"),9,W),y(" behind Mikhail's ")])):(_(),m("p",Z," You are in the same time zone as Mikhail ")),u("div",J,[c(l)!==0?(_(),m("p",Q,"Your clock")):S("",!0),u("time",{datetime:c(h),class:"timezones__clock-data"},v(c(t)),9,X)]),c(l)!==0?(_(),m("div",ee,[te,u("time",{datetime:c(g),class:"timezones__clock-data"},v(c(n)),9,oe)])):S("",!0)])),[[s]])}});const ne=z(se,[["__scopeId","data-v-0cee93d1"]]);function ae(a={enableHighAccuracy:!0,timeout:1/0}){const s="navigator"in window&&"geolocation"in navigator;return new Promise((r,o)=>{if(s)return navigator.geolocation.getCurrentPosition(t=>r(t),t=>o(t),a)})}const ie=a=>(j("data-v-f2b37a1d"),a=a(),O(),a),ce=["id"],re={class:"section__title-wrapper animation animation_opacity animation_drop start"},le={class:"section__title"},_e={class:"section__title-text"},me={class:"section__paragraph section__paragraph_center contacts__text-1 animation animation_opacity animation_rise start"},pe=["href"],de={class:"tip-message"},ue=ie(()=>u("a",{class:"link",href:"https://browserhow.com/how-to-enable-disable-geolocation-access-in-google-chrome/"},"Enable location services",-1)),he=$({__name:"Contacts",props:{title:null},setup(a){const s=a,r={mounted:i=>I(i,"start")},o=[55.991892,37.214385],t=T([0,0]),h=k({get(){return{myPosition:o,userPosition:t.value}},set(i){t.value=i.userPosition}}),n=T(!1),g=T(!1);P(async()=>{await ae().then(l).catch(f).finally(()=>g.value=!0)});const l=i=>{"coords"in i&&(h.value={myPosition:o,userPosition:[i.coords.latitude,i.coords.longitude]},n.value=!0)},f=i=>n.value=!1;return(i,p)=>(_(),m("section",{class:"section section_numbered section",id:s.title.id},[b((_(),m("div",re,[u("h2",le,[u("span",_e,v(s.title.title),1)])])),[[r]]),b((_(),m("p",me,[y(v(i.$t("contacts.text-1")),1)])),[[r]]),b((_(),m("a",{class:"mail-link animation animation_opacity animation_drop start",target:"_blank",href:c(F).email.link},[y(v(i.$t("contacts.mail-link")),1)],8,pe)),[[r]]),U(V,{positions:c(h),toggleMap:g.value},null,8,["positions","toggleMap"]),b(u("p",de,[ue,y(" and reload the page to see your location on the map. ")],512),[[E,!n.value]]),U(ne)],8,ce))}});const fe=z(he,[["__scopeId","data-v-f2b37a1d"]]);export{fe as default};

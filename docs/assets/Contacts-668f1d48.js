import{d as $,j as T,k as P,w as k,o as m,c as _,_ as z,l as v,h as Y,u as c,b as g,a as p,t as b,m as S,p as x,f as O,e as j,v as B}from"./index-b1b0dc4a.js";import{c as E,a as U}from"./appear-animation-3fc7a563.js";import{c as F}from"./social-media-data-fa3a8e24.js";const G={id:"map"},H=$({__name:"Map",props:{positions:null},setup(a){const i=a,r=T("");P(async()=>{await fetch("/config.json").then(s=>s.json()).then(s=>r.value=s.mapApiKey)});const o={mounted:f};function f(s){const u=(t,h)=>{t.forEach(n=>{if(n.isIntersecting)y(),h.unobserve(s);else return})};window.IntersectionObserver?E(s,u):y()}const y=async()=>{let s=document.createElement("script");s.setAttribute("src",`https://api-maps.yandex.ru/2.1/?apikey=${r.value}&lang=en_US`),s.setAttribute("type","text/javascript"),document.head.appendChild(s),s.addEventListener("load",()=>{ymaps.ready(()=>{const u={center:i.positions.myPosition,zoom:4},t=new ymaps.Map("map",u);t.controls.remove("geolocationControl"),t.controls.remove("searchControl"),t.controls.remove("trafficControl"),t.controls.remove("typeSelector"),t.controls.remove("rulerControl");const h=new ymaps.GeoObject({geometry:{type:"Point",coordinates:i.positions.myPosition},properties:{iconContent:"Mikhail M"}},{preset:"islands#darkBlueStretchyIcon"});if(i.positions.userPosition[0]||i.positions.userPosition[1]){const n=new ymaps.GeoObject({geometry:{type:"Point",coordinates:i.positions.userPosition},properties:{iconContent:"You"}},{preset:"islands#redStretchyIcon"}),l=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:[i.positions.myPosition,i.positions.userPosition]},properties:{balloonContent:"123"}},{geodesic:!0,strokeWidth:3,strokeColor:"#0062f5"});t.geoObjects.add(h).add(n).add(l),t.setBounds(t.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:30})}else t.geoObjects.add(h)})})};return(s,u)=>k((m(),_("div",G,null,512)),[[o]])}});const N=z(H,[["__scopeId","data-v-8134585c"]]),V=a=>(x("data-v-0cee93d1"),a=a(),O(),a),K={class:"timezones animation animation_opacity animation_drop start"},L={key:0,class:"timezones__difference"},q=["datetime"],R={key:1,class:"timezones__difference"},W=["datetime"],Z={key:2,class:"timezones__difference"},J={class:"timezones__clock"},Q={key:0,class:"timezones__clock-name"},X=["datetime"],ee={key:3,class:"timezones__clock"},te=V(()=>p("p",{class:"timezones__clock-name"},"Mikhail's clock",-1)),oe=["datetime"],se=$({__name:"Timezones",setup(a){const i={mounted:e=>U(e,"start")},r=T(0);P(async()=>{await fetch("/config.json").then(e=>e.json()).then(e=>r.value=+e.myUTCOffset*60*6e4)});const o=T(new Date),f=v(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return h(e)}),y=v(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4);return n(e)}),s=v(()=>{const e=new Date(o.value.getTime()-r.value);return h(e)}),u=v(()=>{const e=new Date(o.value.getTime()-r.value);return n(e)}),t=v(()=>{const e=new Date(o.value.getTime()-o.value.getTimezoneOffset()*6e4).getTime(),d=new Date(o.value.getTime()-r.value).getTime();return Math.round((e-d)/36e5)}),h=e=>{const d=l(e.getUTCHours()),w=l(e.getUTCMinutes()),C=l(e.getUTCSeconds()),M=l(e.getUTCDate()),I=l(e.getUTCMonth()+1),A=e.getUTCFullYear();return`${d}:${w}:${C} ${M}.${I}.${A}`},n=e=>{const d=l(e.getUTCHours()),w=l(e.getUTCMinutes()),C=l(e.getUTCDate()),M=l(e.getUTCMonth()+1);return`${e.getUTCFullYear()}-${M}-${C}T${d}:${w}`},l=e=>{const d=e.toString();return d.length===1?`0${d}`:d};Y(()=>D());const D=()=>{setTimeout(()=>{o.value=new Date,D()},1e3)};return(e,d)=>k((m(),_("article",K,[c(t)>0?(m(),_("p",L,[g(" Your clock is "),p("time",{datetime:c(t)+"h"},b(Math.abs(c(t))+"h"),9,q),g(" ahead Mikhail's ")])):c(t)<0?(m(),_("p",R,[g(" Your clock is "),p("time",{datetime:Math.abs(c(t))+"h"},b(Math.abs(c(t))+"h"),9,W),g(" behind Mikhail's ")])):(m(),_("p",Z," You are in the same time zone as Mikhail ")),p("div",J,[c(t)!==0?(m(),_("p",Q,"Your clock")):S("",!0),p("time",{datetime:c(y),class:"timezones__clock-data"},b(c(f)),9,X)]),c(t)!==0?(m(),_("div",ee,[te,p("time",{datetime:c(u),class:"timezones__clock-data"},b(c(s)),9,oe)])):S("",!0)])),[[i]])}});const ne=z(se,[["__scopeId","data-v-0cee93d1"]]);function ae(a={enableHighAccuracy:!0,timeout:1/0}){return new Promise((i,r)=>navigator.geolocation.getCurrentPosition(o=>{i(o)},o=>r(o),a))}const ie=a=>(x("data-v-fcecb6f8"),a=a(),O(),a),ce=["id"],re={class:"section__title-wrapper animation animation_opacity animation_drop start"},le={class:"section__title"},me={class:"section__title-text"},_e={class:"section__paragraph section__paragraph_center animation animation_opacity animation_rise start"},de=["href"],pe={class:"tip-message"},ue=ie(()=>p("a",{class:"link",href:"https://browserhow.com/how-to-enable-disable-geolocation-access-in-google-chrome/"},"Enable location services",-1)),he=$({__name:"Contacts",props:{title:null},setup(a){const i=a,r={mounted:n=>U(n,"start")},o=[55.991892,37.214385],f=T([0,0]),y=v({get(){return{myPosition:o,userPosition:f.value}},set(n){f.value=n.userPosition}}),s=T(!1),u=T(!0);P(async()=>{"geolocation"in navigator||(u.value=!1),await ae().then(t).catch(h)});const t=n=>{"coords"in n&&(y.value={myPosition:o,userPosition:[n.coords.latitude,n.coords.longitude]},s.value=!0)},h=n=>s.value=!1;return(n,l)=>(m(),_("section",{class:"section section_numbered section",id:i.title.id},[k((m(),_("div",re,[p("h2",le,[p("span",me,b(i.title.title),1)])])),[[r]]),k((m(),_("p",_e,[g(" I am open to job offers (especially with relocation) and freelance work. However, feel free to contact me if you have any other questions. I'll try my best to answer you as soon as possible. ")])),[[r]]),k((m(),_("a",{class:"mail-link animation animation_opacity animation_drop start",target:"_blank",href:c(F).email.link},[g(" Send message ")],8,de)),[[r]]),j(N,{positions:c(y)},null,8,["positions"]),k(p("p",pe,[ue,g(" and reload the page to see your location on the map. ")],512),[[B,!s.value&&u.value]]),j(ne)],8,ce))}});const ve=z(he,[["__scopeId","data-v-fcecb6f8"]]);export{ve as default};
